<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Untitled Page</title>
</head>
<body>
<style>
        #id1{
            width: 400px;
            height: 400px;
            background: black;
        }

        #id2{
            width: 400px;
            height: 400px;
            background: yellow;
        }
        
        #id3{
            width: 400px;
            height: 400px;
            background: blue;
        }
</style>


<button type="button" onclick="getPicChange();">Try Here!</button>
<button type="button" onclick="resetPic();">Back Here!</button><br />
<label>id1</label><div id="id1"></div>
<label>id2</label><div id="id2"></div>
<label>id3</label><div id="id3"></div>


<script type="text/javascript">
    function rng() {//返回一个随机数
        return x = Math.floor(Math.random() * 256 - 1);
    }

    function getRGB() {//调用rng函数计算出一个RGB的随机值返回
        var r = rng();
        var g = rng();
        var b = rng();
        var rgb = r + "," + g + "," + b;
        return rgb;
    }


    function getPicChange() {//将图片颜色变换
        for (i = 1; i <= 3; i++) {
            document.getElementById("id" + i).style.background = rgb2hex(getRGB());
        }
    }



    function resetPic() {//重置图片颜色
        document.getElementById("id1").style.background = "black";
        document.getElementById("id2").style.background = "yellow";
        document.getElementById("id3").style.background = "blue";
    }

    //工具函数：将RGB转换成#HEX（颜色的表示方法 #十六进制）
    function rgb2hex(rgb) {
        var reg = /(\d{1,3}),(\d{1,3}),(\d{1,3})/;
        var arr = reg.exec(rgb);

        function hex(x) {
            return ("0" + parseInt(x).toString(16)).slice(-2);
        }
        var _hex = "#" + hex(arr[1]) + hex(arr[2]) + hex(arr[3]);
        return _hex.toUpperCase();
    }
</script>
</body>
</html>
